<!DOCTYPE html>
<html lang = "th">
    <head>
        <meta charset="UTF-8">
        <title>Network Monitering Dashboard</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>

        <header>
            <h1>Network Monitering Dashboard</h1>
            
        </header>

        <div id = "content"></div>

        <script>
            fetch('network_data.json')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('content');

                    for (const building in data){

                        const section = document.createElement('div');
                        section.className = 'building-section';

                        const title = document.createElement('h2');
                        title.innerText = `building: ${building}`;
                        section.appendChild(title);

                        const table = document.createElement('table');

                        table.innerHTML =  `
                        <thead>
                            <tr>
                                <th>IP Address</th>
                                <th>MAC Address</th>
                                <th>Computer Name</th>
                                <th>Switch IP</th>
                                <th>Port</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>`;

                        const tbody = table.querySelector('tbody');

                        data[building].forEach(device => {
                            const row = document.createElement('tr');

                            row.innerHTML = `
                                <td> ${device.ip} </td>
                                <td> ${device.mac} </td>
                                <td> ${device.computer_name} </td>
                                <td> ${device.switch_ip || '-'}</td>
                                <td> ${device.port} </td>
                            `;
                            tbody.appendChild(row);
                        });

                        section.appendChild(table);
                        container.appendChild(section);
                    }
                })

                .catch(error => {
                    console.error("Error loading JSON:",error);
                })

        </script>

    </body>
</html>